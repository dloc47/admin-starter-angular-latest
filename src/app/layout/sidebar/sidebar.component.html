<aside class="bg-gray-900 h-screen border-r border-gray-800 transition-all duration-300 flex flex-col" [ngClass]="{'w-64': !isCollapsed, 'w-20': isCollapsed}">
  <!-- Logo Section -->
  <div class="h-16 flex items-center px-4 border-b border-gray-800">
    <div class="flex items-center" [ngClass]="{'justify-between w-full': !isCollapsed, 'justify-center': isCollapsed}">
      <div class="flex items-center">
        <lucide-icon [name]="icons.dashboard" class="w-7 h-7 text-white"></lucide-icon>
        <span class="ml-3 text-xl font-bold text-white" *ngIf="!isCollapsed">Immanuel Tours CMS</span>
      </div>
      <!-- Toggle Button -->
      <button class="text-gray-400 hover:text-white transition-colors" (click)="toggleSidebar()">
        <svg *ngIf="!isCollapsed" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
        </svg>
        <svg *ngIf="isCollapsed" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 p-3 overflow-y-auto">
    <div class="space-y-1.5">
      <!-- Dashboard -->
      <a routerLink="/dashboard" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.dashboard" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Dashboard</span>
      </a>

      <!-- Packages -->
      <a routerLink="/packages" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.package" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Packages</span>
      </a>

      <!-- Destinations -->
      <a routerLink="/destinations" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.mapPin" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Destinations</span>
      </a>

      <!-- CMS Pages with Dropdown -->
      <div>
        <button (click)="toggleMenu('cmsPages')" class="flex items-center justify-between w-full px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
          <div class="flex items-center">
            <lucide-icon [name]="icons.bookText" class="w-4 h-4"></lucide-icon>
            <span class="ml-3" *ngIf="!isCollapsed">CMS Pages</span>
          </div>
          <lucide-icon 
            [name]="expandedMenus.cmsPages ? icons.chevronDown : icons.chevronRight" 
            class="w-4 h-4 ml-2" 
            *ngIf="!isCollapsed">
          </lucide-icon>
        </button>
        
        <!-- CMS Pages Submenu -->
        <div *ngIf="expandedMenus.cmsPages && !isCollapsed" class="ml-8 mt-1 space-y-1">
          <a routerLink="/cms-pages/home-carousel" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.images" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Home Carousel</span>
          </a>
          <a routerLink="/cms-pages/about" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.fileText" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">About</span>
          </a>
          <a routerLink="/cms-pages/terms" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.fileText" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Terms & Conditions</span>
          </a>
          <a routerLink="/cms-pages/refund" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.fileText" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Refund Policy</span>
          </a>
          <a routerLink="/cms-pages/faqs" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.helpCircle" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">FAQs</span>
          </a>
          <a routerLink="/cms-pages/contact" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.mail" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Contact Details</span>
          </a>
        </div>
      </div>

      <!-- Services -->
      <a routerLink="/services" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.briefcase" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Our Services</span>
      </a>

      <!-- Media Library -->
      <a routerLink="/media" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.images" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Media Library</span>
      </a>

      <!-- Messages with Dropdown -->
      <div>
        <button (click)="toggleMenu('messages')" class="flex items-center justify-between w-full px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
          <div class="flex items-center">
            <lucide-icon [name]="icons.messageSquare" class="w-4 h-4"></lucide-icon>
            <span class="ml-3" *ngIf="!isCollapsed">Messages</span>
          </div>
          <lucide-icon 
            [name]="expandedMenus.messages ? icons.chevronDown : icons.chevronRight" 
            class="w-4 h-4 ml-2" 
            *ngIf="!isCollapsed">
          </lucide-icon>
        </button>
        
        <!-- Messages Submenu -->
        <div *ngIf="expandedMenus.messages && !isCollapsed" class="ml-8 mt-1 space-y-1">
          <a routerLink="/messages/inquiries" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.messageSquare" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Inquiries</span>
          </a>
          <a routerLink="/messages/contact" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.mail" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Contact Messages</span>
          </a>
        </div>
      </div>

      <!-- Testimonials -->
      <a routerLink="/testimonials" routerLinkActive="bg-gray-800 text-blue-400" 
         class="flex items-center px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
        <lucide-icon [name]="icons.star" class="w-4 h-4"></lucide-icon>
        <span class="ml-3" *ngIf="!isCollapsed">Testimonials</span>
      </a>

      <!-- Settings with Dropdown -->
      <div>
        <button (click)="toggleMenu('settings')" class="flex items-center justify-between w-full px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
          <div class="flex items-center">
            <lucide-icon [name]="icons.settings" class="w-4 h-4"></lucide-icon>
            <span class="ml-3" *ngIf="!isCollapsed">Site Settings</span>
          </div>
          <lucide-icon 
            [name]="expandedMenus.settings ? icons.chevronDown : icons.chevronRight" 
            class="w-4 h-4 ml-2" 
            *ngIf="!isCollapsed">
          </lucide-icon>
        </button>
        
        <!-- Settings Submenu -->
        <div *ngIf="expandedMenus.settings && !isCollapsed" class="ml-8 mt-1 space-y-1">
          <a routerLink="/settings/footer" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.fileText" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Footer Copyright</span>
          </a>
          <a routerLink="/settings/developer" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.code" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Developer Info</span>
          </a>
          <a routerLink="/settings/social" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.shield" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Social Links</span>
          </a>
        </div>
      </div>

      <!-- Users with Dropdown -->
      <div>
        <button (click)="toggleMenu('users')" class="flex items-center justify-between w-full px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
          <div class="flex items-center">
            <lucide-icon [name]="icons.users" class="w-4 h-4"></lucide-icon>
            <span class="ml-3" *ngIf="!isCollapsed">Users</span>
          </div>
          <lucide-icon 
            [name]="expandedMenus.users ? icons.chevronDown : icons.chevronRight" 
            class="w-4 h-4 ml-2" 
            *ngIf="!isCollapsed">
          </lucide-icon>
        </button>
        
        <!-- Users Submenu -->
        <div *ngIf="expandedMenus.users && !isCollapsed" class="ml-8 mt-1 space-y-1">
          <a routerLink="/users" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.users" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">User List</span>
          </a>
          <a routerLink="/roles" routerLinkActive="text-blue-400" 
             class="flex items-center px-3 py-1.5 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
            <lucide-icon [name]="icons.database" class="w-4 h-4"></lucide-icon>
            <span class="ml-3">Roles & Permissions</span>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Bottom Section -->
  <div class="border-t border-gray-800 p-3">
    <button (click)="logout()" class="flex items-center w-full px-3 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-gray-300 transition-colors">
      <lucide-icon [name]="icons.logout" class="w-4 h-4"></lucide-icon>
      <span class="ml-3" *ngIf="!isCollapsed">Logout</span>
    </button>
  </div>
</aside>